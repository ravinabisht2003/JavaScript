<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
        background-color: black;
        color: white;
        font-size: larger;
    }


    .user-follower {
        margin-top: 20px;
    }
</style>

<body>
    <img src="" style="height: 200px; width: 200px;">

    <div class="user-follower">
        <div>Followers : </div>
        <div class="followers"></div>
    </div>

    <button class="button">load data</button>




</body>
<script>

    const requestURL = 'https://api.github.com/users/hiteshchoudhary';



     const xhr = new XMLHttpRequest();

//     // we are only setup the object and did not send a request 


    
    xhr.onreadystatechange = function () {
        console.log(xhr.readyState);
        

        if (xhr.readyState === 4) {
            const data = JSON.parse(this.responseText);
            // most of the time we get the data in the string not in the object, so with the help of it we convert it into json and in that "this" means we are talking about this context.
            console.log(typeof data);
            console.log(data.followers);
            //console.log(data.avatar_url);
         

         }

    }

    xhr.open('GET', requestURL);
    xhr.send();



const image = document.querySelector('img');
const followers = document.getElementsByClassName('followers');
const button = document.querySelector('button');



button.addEventListener('click', () => {
    const xhr = new XMLHttpRequest();
    
    xhr.open('GET', requestURL);
    
    xhr.addEventListener('load', function() {
        const data = JSON.parse(this.responseText);
        image.src = data.avatar_url;
        followers[0].textContent = data.followers; 
       
    });
    
    xhr.send();
});

</script>

</html>

<!-- note 
1. when we use new in the function its return the object  
-->